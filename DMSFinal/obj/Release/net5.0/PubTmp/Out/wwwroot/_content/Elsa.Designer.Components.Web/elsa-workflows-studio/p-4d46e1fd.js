import{a as t}from"./p-e0c1fede.js";import{H as i}from"./p-f1ec68ec.js";import{c as a}from"./p-a3b5bd35.js";import{e as n}from"./p-93cac3a6.js";import{g as e}from"./p-c74b54ba.js";import{E as s}from"./p-d88cb309.js";let o=null,r=null;const w=async function(a){if(o)return o;const e={baseURL:a};o=t.create(e);const r=new i(o);return await n.emit(s.HttpClientConfigCreated,this,{config:e}),await n.emit(s.HttpClientCreated,this,{service:r,_httpClient:o}),o},c=async function(t){if(r)return r;const i=await w(t);return r={activitiesApi:{list:async()=>(await i.get("v1/activities")).data},workflowDefinitionsApi:{list:async(t,n,o,s)=>{const r={version:e(o)};s&&(r.searchTerm=s),(t||0===t)&&(r.page=t),n&&(r.pageSize=n);const w=a.map(r,((t,a)=>`${a}=${t}`)),c=w.length>0?`?${w.join("&")}`:"";return(await i.get(`v1/workflow-definitions${c}`)).data},getMany:async(t,a)=>{const n=e(a);return(await i.get(`v1/workflow-definitions?ids=${t.join(",")}&version=${n}`)).data.items},getVersionHistory:async t=>(await i.get(`v1/workflow-definitions/${t}/history`)).data.items,getByDefinitionAndVersion:async(t,a)=>{const n=e(a);return(await i.get(`v1/workflow-definitions/${t}/${n}`)).data},save:async t=>(await i.post("v1/workflow-definitions",t)).data,delete:async(t,a)=>{let n=`v1/workflow-definitions/${t}`;a&&(n=`${n}/${e(a)}`),await i.delete(n)},retract:async t=>(await i.post(`v1/workflow-definitions/${t}/retract`)).data,publish:async t=>(await i.post(`v1/workflow-definitions/${t}/publish`)).data,revert:async(t,a)=>(await i.post(`v1/workflow-definitions/${t}/revert/${a}`)).data,export:async(t,a)=>{const n=e(a),o=await i.post(`v1/workflow-definitions/${t}/${n}/export`,null,{responseType:"blob"}),s=o.headers["content-disposition"];return{fileName:s?s.split(";")[1].split("=")[1]:`workflow-definition-${t}.json`,data:o.data}},import:async(t,a)=>{const e=new FormData;return e.append("file",a),(await i.post(`v1/workflow-definitions/${t}/import`,e,{headers:{"Content-Type":"multipart/form-data"}})).data},restore:async t=>{const a=new FormData;a.append("file",t),await i.post("v1/workflow-definitions/restore",a,{headers:{"Content-Type":"multipart/form-data"}})}},workflowTestApi:{execute:async t=>(await i.post("v1/workflow-test/execute",t)).data,restartFromActivity:async t=>{await i.post("v1/workflow-test/restartFromActivity",t)},stop:async t=>{await i.post("v1/workflow-test/stop",t)}},workflowRegistryApi:{list:async(t,n,o,s)=>{const r={version:e(s)};(n||0===n)&&(r.page=n),o&&(r.pageSize=o);const w=a.map(r,((t,a)=>`${a}=${t}`)),c=w.length>0?`?${w.join("&")}`:"";return(await i.get(`v1/workflow-registry/by-provider/${t}${c}`)).data},listAll:async t=>{const n={version:e(t)},o=a.map(n,((t,a)=>`${a}=${t}`)),s=o.length>0?`?${o.join("&")}`:"";return(await i.get(`v1/workflow-registry${s}`)).data},findManyByDefinitionVersionIds:async t=>{if(0==t.length)return[];const a=t.join(",");return(await i.get(`v1/workflow-registry/by-definition-version-ids?ids=${a}`)).data},get:async(t,a)=>{const n=e(a);return(await i.get(`v1/workflow-registry/${t}/${n}`)).data}},workflowInstancesApi:{list:async(t,e,n,o,s,r,w)=>{const c={};n&&(c.workflow=n),w&&(c.correlationId=w),null!=o&&(c.status=o),s&&(c.orderBy=s),r&&(c.searchTerm=r),t&&(c.page=t),e&&(c.pageSize=e);const l=a.map(c,((t,a)=>`${a}=${t}`)),p=l.length>0?`?${l.join("&")}`:"";return(await i.get(`v1/workflow-instances${p}`)).data},get:async t=>(await i.get(`v1/workflow-instances/${t}`)).data,cancel:async t=>{await i.post(`v1/workflow-instances/${t}/cancel`)},delete:async t=>{await i.delete(`v1/workflow-instances/${t}`)},retry:async t=>{await i.post(`v1/workflow-instances/${t}/retry`,{runImmediately:!1})},bulkCancel:async t=>(await i.post("v1/workflow-instances/bulk/cancel",t)).data,bulkDelete:async t=>(await i.delete("v1/workflow-instances/bulk",{data:t})).data,bulkRetry:async t=>(await i.post("v1/workflow-instances/bulk/retry",t)).data},workflowExecutionLogApi:{get:async(t,e,n)=>{const o={};e&&(o.page=e),n&&(o.pageSize=n);const s=a.map(o,((t,a)=>`${a}=${t}`)),r=s.length>0?`?${s.join("&")}`:"";return(await i.get(`v1/workflow-instances/${t}/execution-log${r}`)).data}},scriptingApi:{getJavaScriptTypeDefinitions:async(t,a)=>(await i.post(`v1/scripting/javascript/type-definitions/${t}?t=${(new Date).getTime()}`,a)).data},designerApi:{runtimeSelectItemsApi:{get:async(t,a)=>(await i.post("v1/designer/runtime-select-list",{providerTypeName:t,context:a})).data}},activityStatsApi:{get:async(t,a)=>(await i.get(`v1/workflow-instances/${t}/activity-stats/${a}`)).data},workflowStorageProvidersApi:{list:async()=>(await i.get("v1/workflow-storage-providers")).data},workflowProvidersApi:{list:async()=>(await i.get("v1/workflow-providers")).data},workflowChannelsApi:{list:async()=>(await i.get("v1/workflow-channels")).data},featuresApi:{list:async()=>(await i.get("v1/features")).data.features},versionApi:{get:async()=>(await i.get("v1/version")).data.version},authenticationApi:{getUserDetails:async()=>{const t=await i.get("v1/elsaAuthentication/userinfo");return"text/html; charset=utf-8"!==t.headers["content-type"]&&t.data.isAuthenticated?t.data:null},getAuthenticationConfguration:async()=>(await i.get("v1/ElsaAuthentication/options")).data}},r};export{c as a,w as c};